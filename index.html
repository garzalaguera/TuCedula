<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DuoSeguros - Quiz Interactivo</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Theme Toggle (floating button) -->
  <button id="themeToggle" class="theme-toggle" aria-label="Cambiar tema">
    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"/>
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </svg>
    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
    </svg>
  </button>

  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <svg class="logo-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            <path d="M2 17l10 5 10-5"/>
            <path d="M2 12l10 5 10-5"/>
          </svg>
          <h1 class="logo-text">DuoSeguros</h1>
        </div>
        <div class="header-right">
          <div id="streakCounter" class="streak-badge">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
              <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
              <path d="M4 22h16"/>
              <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
              <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
              <path d="M18 2H6v7a6 6 0 0 0 12 0V2z"/>
            </svg>
            <span id="streakCount">0</span>
          </div>
        </div>
      </div>
      <div class="progress-bar">
        <div id="progressFill" class="progress-fill"></div>
      </div>
    </header>

    <main class="main-content">
      <!-- Loading Screen -->
      <section id="loadingScreen" class="screen loading-screen">
        <div class="spinner"></div>
        <p>Cargando preguntas...</p>
      </section>

      <!-- Error Screen -->
      <section id="errorScreen" class="screen error-screen">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="15" y1="9" x2="9" y2="15"/>
          <line x1="9" y1="9" x2="15" y2="15"/>
        </svg>
        <h2>Error al cargar</h2>
        <p>No se pudieron cargar las preguntas. Verifica que los archivos JSON estén disponibles.</p>
      </section>

      <!-- Start Screen -->
      <section id="startScreen" class="screen start-screen">
        <div class="hero-section">
          <h2 class="hero-title">Elige tu módulo de aprendizaje</h2>
          <p class="hero-subtitle">Practica con preguntas aleatorias y mide tu progreso en cada área</p>
        </div>

        <!-- Settings Card -->
        <div class="settings-card">
          <div class="setting-item">
            <label for="numQuestions">Número de preguntas:</label>
            <select id="numQuestions" class="select-input">
              <option value="10">10</option>
              <option value="15">15</option>
              <option value="20" selected>20</option>
              <option value="30">30</option>
              <option value="all">Todas disponibles</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="soundEnabled" class="checkbox-label">
              <input type="checkbox" id="soundEnabled" checked />
              <span>Efectos de sonido</span>
            </label>
          </div>
        </div>

        <!-- Module List -->
        <div id="moduleList" class="module-grid"></div>

        <button id="startBtn" class="btn btn-primary btn-large" disabled>
          Comenzar quiz
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </button>
      </section>

      <!-- Question Screen -->
      <section id="questionScreen" class="screen question-screen">
        <div class="question-card">
          <!-- Top badges -->
          <div class="question-header">
            <span id="difficultyBadge" class="badge badge-difficulty">Básica</span>
            <span id="subtopicText" class="badge badge-subtopic">Subtema</span>
          </div>

          <div id="questionCounter" class="question-counter">Pregunta 1 de 20</div>
          <h2 id="questionText" class="question-text">...</h2>

          <!-- Options -->
          <div id="optionsContainer" class="options-container"></div>

          <!-- Feedback -->
          <div id="feedback" class="feedback-box"></div>
        </div>

        <!-- Actions -->
        <div class="question-actions">
          <div class="score-display">
            <span class="score-correct">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              <span id="correctCount">0</span>
            </span>
            <span class="score-incorrect">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              <span id="incorrectCount">0</span>
            </span>
          </div>
          <div class="button-group">
            <button id="exitBtn" class="btn btn-outline">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              Salir
            </button>
            <button id="nextBtn" class="btn btn-primary" disabled>
              Siguiente
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"/>
              </svg>
            </button>
          </div>
        </div>
      </section>

      <!-- End Screen -->
      <section id="endScreen" class="screen end-screen">
        <div class="results-card">
          <h2>Resultados del Quiz</h2>
          <div id="finalScore" class="final-score">0%</div>
          <p id="performanceMessage" class="performance-message">—</p>
          
          <div id="detailedResults" class="detailed-results"></div>
          
          <button id="restartBtn" class="btn btn-primary btn-large">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"/>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
            </svg>
            Volver al inicio
          </button>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
